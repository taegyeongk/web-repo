<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>js/fetch.html</title>
	<script type="module" src="fetch1.js"></script>
</head>

<body>
	<div id="show"></div>
	<script>
		//promise 객체(fullfuilled : 이행완료됨, pending : 대기중, rejected : 거부됨)
		const promise = new Promise(function(resolve){
			setTimeout(function(){
				console.log('실행');
				resolve('Success');  //첫번째 매개값이 실행할 함수
			}, 500);
		});
		
		promise
		.then((resolve) =>{   //정상적으로 처리가 되면 then 의 resolve 라는 함수로 success값을 전달 받아옴.
			console.log('then: ', resolve);
			return 'OK';   //promise 반환
		})  
	
		//then : 비동기 처리가 완료되었을때 실행되는 메서드, 콜백함수 파라메터로 결과 데이터, 메세지를 받아 최종 데이터 처리 작업가능
		//catch : 프로미스가 거부되었을때 호출되는 메서드, 거부시에 콜백함수가 실행되며 파라메터로 에러 메세지를 받음
		
		.then((result) =>{
			console.log('2then: ', result);
			return message;
		})
		.catch((err)=>{
			console.log('error: ', err);	
		})
		
		
		
	</script>
</body>

</html>